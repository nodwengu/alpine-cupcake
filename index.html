<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="./src/css/bootstrap.min.css">
   <link rel="stylesheet" href="./src/css/style.css">
   <title>Cupcakes</title>
   <!-- <script defer src="/dist/app.js"></script> -->
   <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js" defer></script>


</head>

<body>
   <div x-data="{ 
        title: 'Cupcakes & muffin sell off',
        muffinCounter: sellMuffin(),
        cupcakeCounter: 0,
        message: '',
        open: false
    }">

      <div class="container">

         <div class="row mt-4 d-flex justify-content-center">
            <h2 x-text="title"></h2>
         </div>
         <div class="row card mt-4" style="height: 24em;">
            <div class="row">
               <div class="col mt-3">
                  <div class="ml-4">
                     <img src="./src/images/muffin.png" class="card-img-left" alt="...">
                     <span class="counters" x-text="muffinCounter"></span>
                  </div>
                  <button class="btn btn-primary ml-4 mt-4" x-on:click="muffinCounter = sellMuffin(); open=true;">Sell muffin</button>
               </div>
               <div class="col mt-3">
                  <div class="d-flex justify-content-end mr-4">
                     <img src="./src/images/cupcake.png" class="card-img-right" alt="...">
                     <span class="counters" x-text="cupcakeCounter"></span>
                  </div>
                  <div class="d-flex justify-content-end mr-4 mt-4">
                     <button @click="cupcakeCounter++; open=true" class="btn btn-primary">Sell cupcake</button>
                  </div>
               </div>
            </div>
            <div class="msg ml-4 mr-4 mt-4 mb-4" style=" text-align:center; padding-top: 4em;" x-show="open" x-transition>
               <template x-if="muffinCounter > cupcakeCounter && cupcakeCounter != 0">
                  <h3 class="alert alert-info" role="alert" x-text="message = 'So far you sold more muffins than cupcakes.'"></h3>
               </template>
               <template x-if="cupcakeCounter > muffinCounter && muffinCounter != 0">
                  <h3 class="alert alert-info" role="alert" x-text="message = 'So far you sold more cupcakes than muffins.'"></h3>
               </template>
               <template x-if="cupcakeCounter == muffinCounter && cupcakeCounter != 0 && muffinCounter != 0">
                  <h3 class="alert alert-info" role="alert" x-text="message = 'You sold as much muffins as cupcakes.'"></h3>
               </template>
               <template x-if="cupcakeCounter > muffinCounter && muffinCounter == 0">
                  <h3 class="alert alert-info" role="alert" x-text="message = 'So far you only sold cupcakes.'"></h3>
               </template>
               <template x-if="muffinCounter > cupcakeCounter && cupcakeCounter == 0">
                  <h3 class="alert alert-info" role="alert" x-text="message = 'So far you only sold muffins.'"></h3>
               </template>
               <template x-if="muffinCounter == 0 && cupcakeCounter == 0">
                  <h3 class="alert alert-info" role="alert" x-text="message = ''"></h3>
               </template>
            
            </div>
            

         </div>
      </div>


   </div>



   <script defer src="./src/js/jquery.js"></script>
   <script defer src="./src/js/bootstrap.min.js"></script>
   <script>
      let muffinCounter = 0;
      let cupcakeCounter = 0;

      function sellMuffin() {
         return muffinCounter++;
      }
   </script>

</body>

</html>